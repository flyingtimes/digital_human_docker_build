# DRYRUN模式：只输出要执行的命令，不做实际执行
# 以下命令可以直接复制到Dockerfile中
# apt-get update && apt-get -y install git-lfs
RUN apt-get update && apt-get -y install git-lfs
# apt-get -y install ffmpeg
RUN apt-get -y install ffmpeg
# python -m pip install --upgrade pip
RUN python -m pip install --upgrade pip
# pip install --upgrade transformers==4.51.0
RUN pip install --upgrade transformers==4.51.0
# pip install huggingface_hub[cli] modelscope deepspeed
RUN pip install huggingface_hub[cli] modelscope deepspeed
# cd /root/autodl-tmp/ && git clone --depth=1 https://github.com/comfyanonymous/ComfyUI
RUN cd /root/autodl-tmp/ && git clone --depth=1 https://github.com/comfyanonymous/ComfyUI
RUN cd /root/autodl-tmp/ComfyUI && pip install -r requirements.txt
cd "/root/autodl-tmp/ComfyUI/custom_nodes"
git clone --depth=1 "https://github.com/billwuhao/ComfyUI_IndexTTS"
cd "ComfyUI_IndexTTS"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/Kosinkadink/ComfyUI-VideoHelperSuite"
cd "ComfyUI-VideoHelperSuite"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/chflame163/ComfyUI_LayerStyle"
cd "ComfyUI_LayerStyle"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/kijai/ComfyUI-KJNodes"
cd "ComfyUI-KJNodes"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/kijai/ComfyUI-WanVideoWrapper"
cd "ComfyUI-WanVideoWrapper"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/yolain/ComfyUI-Easy-Use"
cd "ComfyUI-Easy-Use"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/melMass/comfy_mtb"
cd "comfy_mtb"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/pythongosssss/ComfyUI-Custom-Scripts"
cd "ComfyUI-Custom-Scripts"
pip install -r requirements.txt
cd ..
git clone --depth=1 "https://github.com/pollockjj/ComfyUI-MultiGPU"
cd "ComfyUI-MultiGPU"
pip install -r requirements.txt
cd ..
